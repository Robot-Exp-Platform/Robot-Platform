# 02-2 障碍物类型

## 相关关键词

> 障碍物 空间姿态 消息 仿真器

## 任务目标

创建障碍物消息类型，向仿真器发布障碍物类型并生成障碍物对象。

采用的 线性代数库简介见 <https://rapier.rs/docs/user_guides/rust/introduction_to_nalgebra>，用户文档见<https://nalgebra.org/docs/user_guide/getting_started>

所需要的结构如下图
![图 0](images/%E7%A2%B0%E6%92%9E%E7%89%A9.png)  

一个障碍物不仅仅需要其形状，还需要他的空间姿态。通鉴姿态通常被定义为一个 Pose ，Pose 包含一个三维的向量表示平移和一个单位四元数表示旋转。其定义方法为。

```rust
pub type Pose = na::Isometry3<f64>;
```

m2ssage/target 中借用了 robot 的定义，这是不好的！请不要这样做。如果在 message 中定义考虑 Pose 请毫不犹豫的修改 target 中的错误使用。

还需要新建一个子包并新建消息队列向 simulator 发送障碍物消息。每个障碍物消息应该是一个列表，列表中包含了所有障碍物的 Pose 和形状。该子包线程受 thread_manager 管理。

需要考虑为每个障碍物随机生成一个哈希的id，作为障碍物类型的一部分。命名规范为 `${障碍物类型}_${障碍物id}`
