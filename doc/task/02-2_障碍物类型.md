# 02-2 障碍物类型

## 相关关键词

> 障碍物 空间姿态 消息 仿真器

## 任务目标

创建障碍物消息类型，向仿真器发布障碍物类型并生成障碍物对象。

采用的 线性代数库简介见 <https://rapier.rs/docs/user_guides/rust/introduction_to_nalgebra>，用户文档见<https://nalgebra.org/docs/user_guide/getting_started>

所需要的结构如下图
![图 0](images/%E7%A2%B0%E6%92%9E%E7%89%A9.png)  

m2ssage/target 中借用了 robot 的定义，这是不好的！请不要这样做。如果在 message 中定义考虑 Pose 请毫不犹豫的修改 target 中的错误使用。

需要考虑为每个障碍物随机生成一个哈希的id，作为障碍物类型的一部分。命名规范为 `${障碍物类型}_${障碍物id}`

障碍物类型的建立分为两步，第一步是建立障碍物本身的尺寸结构，让代码能够理解这是什么玩意，第二步则需要交给仿真器，使得仿真器能够渲染这些障碍物。

在第一步中，需要在 message/clision_object 中建立障碍物枚举类型，并且建立对应的障碍物结构体。障碍物结构体需要能够完整描述此时障碍物的尺寸信息、姿态信息、障碍物id。

在第二步中，需要仿真器能够明白此时有那些障碍物，并且分别以什么姿态出现在什么位置。在这个过程中，需要rust端向仿真器发送障碍物列表，仿真器接收到信息后，需要将障碍物渲染出来。

当然部分障碍物是静态的，而另外一部分是动态的，这可能会带来一些困难，但是这是后话了。

关于障碍物距离的部分，见任务 02-13 障碍物距离。
